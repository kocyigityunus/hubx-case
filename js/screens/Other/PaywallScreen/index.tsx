import { colors, fonts } from '@/styles';
import { Logger } from '@/utils/logger';
import { BlurView } from '@react-native-community/blur';
import { useNavigation } from '@react-navigation/native';
import React from 'react';
import { Pressable, ScrollView, StatusBar, Text, TouchableOpacity, View } from 'react-native';
import { useSafeAreaInsets } from 'react-native-safe-area-context';
import { SvgXml } from 'react-native-svg';
import { StyleSheet } from 'react-native-unistyles';
import { FeatureCard } from './FeatureCards';
import { Pack } from './Pack';
import { PrimaryButton } from '@/components/base/PrimaryButton';
import { RootStackParamList, ScreenNames } from '@/navigation';
import { NativeStackNavigationProp } from '@react-navigation/native-stack';

//
const scannerSvg = `<svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_594_6466)"><path d="M4.5 16.4531H2.25C2.06354 16.453 1.88474 16.3789 1.75289 16.2471C1.62104 16.1152 1.54694 15.9364 1.54688 15.75V13.5C1.54525 13.3892 1.50009 13.2834 1.42115 13.2056C1.34221 13.1278 1.23582 13.0842 1.12499 13.0842C1.01416 13.0842 0.907776 13.1278 0.828837 13.2056C0.749898 13.2834 0.704741 13.3892 0.703125 13.5V15.75C0.703848 16.16 0.867054 16.553 1.15699 16.843C1.44693 17.1329 1.83997 17.2961 2.25 17.2969H4.5C4.61085 17.2953 4.71664 17.2501 4.79448 17.1712C4.87231 17.0923 4.91595 16.9858 4.91595 16.875C4.91595 16.7641 4.87231 16.6577 4.79448 16.5788C4.71664 16.4998 4.61085 16.4547 4.5 16.4531V16.4531Z" fill="white"/><path d="M16.8747 13.0781C16.8193 13.0781 16.7644 13.0889 16.7132 13.1101C16.662 13.1313 16.6155 13.1623 16.5763 13.2015C16.5371 13.2407 16.506 13.2873 16.4848 13.3385C16.4637 13.3897 16.4528 13.4446 16.4529 13.5V15.75C16.4528 15.9365 16.3787 16.1153 16.2468 16.2471C16.115 16.379 15.9362 16.4531 15.7497 16.4531H13.4997C13.3889 16.4548 13.2832 16.4999 13.2054 16.5789C13.1276 16.6578 13.084 16.7642 13.084 16.875C13.084 16.9858 13.1276 17.0922 13.2054 17.1712C13.2832 17.2501 13.3889 17.2953 13.4998 17.2969H15.7497C16.1598 17.2962 16.5528 17.133 16.8427 16.843C17.1327 16.5531 17.2959 16.16 17.2966 15.75V13.5C17.2967 13.4446 17.2858 13.3897 17.2647 13.3385C17.2435 13.2873 17.2124 13.2407 17.1732 13.2015C17.134 13.1623 17.0875 13.1313 17.0363 13.1101C16.9851 13.0889 16.9302 13.0781 16.8747 13.0781V13.0781Z" fill="white"/><path d="M1.125 4.92188C1.18042 4.92196 1.23531 4.91109 1.28653 4.88992C1.33775 4.86874 1.38429 4.83767 1.42348 4.79848C1.46267 4.75929 1.49374 4.71276 1.51491 4.66154C1.53609 4.61032 1.54695 4.55543 1.54687 4.50001V2.25C1.54694 2.06354 1.62104 1.88474 1.75289 1.75289C1.88474 1.62105 2.06354 1.54694 2.25 1.54688H4.5C4.61082 1.54526 4.71655 1.50009 4.79435 1.42115C4.87214 1.34221 4.91575 1.23582 4.91574 1.12499C4.91574 1.01416 4.87213 0.907777 4.79433 0.828837C4.71653 0.749898 4.6108 0.704741 4.49998 0.703125H2.25C1.83996 0.703845 1.44693 0.86705 1.15699 1.15699C0.86705 1.44693 0.703845 1.83997 0.703125 2.25V4.50001C0.703051 4.55543 0.713913 4.61032 0.735088 4.66154C0.756263 4.71276 0.787335 4.75929 0.826524 4.79848C0.865714 4.83767 0.91225 4.86874 0.963468 4.88992C1.01469 4.91109 1.06958 4.92196 1.125 4.92188Z" fill="white"/><path d="M15.75 0.703125H13.5C13.3881 0.703125 13.2808 0.747572 13.2017 0.826689C13.1226 0.905806 13.0781 1.01311 13.0781 1.125C13.0781 1.23689 13.1226 1.34419 13.2017 1.42331C13.2808 1.50243 13.3881 1.54687 13.5 1.54688H15.75C15.9365 1.54694 16.1153 1.62104 16.2471 1.75289C16.379 1.88474 16.4531 2.06354 16.4531 2.25V4.5C16.4547 4.61082 16.4999 4.71655 16.5789 4.79435C16.6578 4.87214 16.7642 4.91575 16.875 4.91575C16.9858 4.91575 17.0922 4.87213 17.1712 4.79433C17.2501 4.71654 17.2953 4.6108 17.2969 4.49998V2.25C17.2962 1.83996 17.133 1.44693 16.843 1.15699C16.5531 0.86705 16.16 0.703845 15.75 0.703125V0.703125Z" fill="white"/><path d="M4.07812 5.625V7.73438H13.9219V5.625C13.9212 5.21496 13.758 4.82193 13.468 4.53199C13.1781 4.24205 12.785 4.07884 12.375 4.07812H5.625C5.21496 4.07884 4.82193 4.24205 4.53199 4.53199C4.24205 4.82193 4.07884 5.21496 4.07812 5.625Z" fill="white"/><path d="M13.9216 12.375V9.42188H15.7497C15.8616 9.42188 15.9689 9.37743 16.048 9.29831C16.1272 9.21919 16.1716 9.11189 16.1716 9C16.1716 8.88811 16.1272 8.78081 16.048 8.70169C15.9689 8.62257 15.8616 8.57812 15.7497 8.57812H2.24973C2.13891 8.57975 2.03318 8.62491 1.95538 8.70385C1.87759 8.78279 1.83398 8.88918 1.83398 9.00001C1.83399 9.11084 1.8776 9.21723 1.9554 9.29616C2.0332 9.3751 2.13893 9.42026 2.24975 9.42188H4.07786V12.375C4.07858 12.785 4.24178 13.1781 4.53172 13.468C4.82166 13.7579 5.2147 13.9212 5.62473 13.9219H12.3747C12.7848 13.9212 13.1778 13.7579 13.4677 13.468C13.7577 13.1781 13.9209 12.785 13.9216 12.375V12.375Z" fill="white" fill-opacity="0.7"/></g><defs><clipPath id="clip0_594_6466"><rect width="18" height="18" fill="white"/></clipPath></defs></svg>`;
const speedometerSvg = `<svg width="17" height="17" viewBox="0 0 17 17" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M16.9976 13.2656C16.9964 13.2287 16.995 13.1916 16.9938 13.1543C16.9924 13.117 16.991 13.0797 16.9897 13.0421L16.9886 13.014L16.988 13L16.9879 12.9964L16.9875 12.9649L16.9874 12.9635L16.987 12.9576L16.9834 12.911C16.9785 12.8487 16.9737 12.7862 16.9688 12.7237L16.9651 12.6764L16.9596 12.615C16.9557 12.5742 16.9518 12.5334 16.948 12.4926C16.944 12.452 16.94 12.4114 16.936 12.371C16.934 12.3508 16.9319 12.3306 16.9299 12.3105C16.9274 12.2918 16.925 12.2733 16.9225 12.2547C16.9021 12.1072 16.8839 11.9622 16.8579 11.8229C16.8456 11.7532 16.8343 11.6846 16.8216 11.6178C16.8077 11.5511 16.7941 11.486 16.7808 11.4225C16.7557 11.2955 16.7242 11.1768 16.6977 11.0672C16.6909 11.0398 16.6842 11.013 16.6777 10.9868C16.6705 10.9607 16.6634 10.9353 16.6565 10.9105C16.6425 10.861 16.6293 10.814 16.6168 10.7699C16.6041 10.7259 16.5929 10.6845 16.5812 10.6466C16.5691 10.6089 16.558 10.5742 16.548 10.5428C16.5332 10.4967 16.5207 10.4579 16.5108 10.4273C16.4963 10.382 16.4484 10.3566 16.4027 10.3696L13.5286 11.1887C13.4848 11.2012 13.4577 11.2448 13.466 11.2896C13.4691 11.3063 13.4727 11.3254 13.4767 11.3468C13.4808 11.3684 13.4853 11.3923 13.4903 11.4183C13.4949 11.4444 13.4986 11.4729 13.5033 11.5031C13.5079 11.5334 13.5128 11.5655 13.518 11.5995C13.5205 11.6164 13.5235 11.6337 13.5258 11.6515C13.5279 11.6694 13.53 11.6878 13.5321 11.7065C13.5401 11.7813 13.5521 11.8616 13.5574 11.9477C13.5609 11.9905 13.5646 12.0345 13.5683 12.0794C13.5711 12.1245 13.5725 12.1706 13.5749 12.2174C13.5811 12.3107 13.5799 12.4078 13.5817 12.5057L13.5821 12.5422L13.5808 12.5745C13.5801 12.5961 13.5793 12.6176 13.5786 12.6393C13.578 12.6608 13.5775 12.6824 13.5769 12.704L13.5762 12.7364L13.5742 12.7829C13.5716 12.8456 13.5689 12.9082 13.5662 12.9706L13.5642 13.0174L13.5639 13.0232L13.5639 13.0247C13.5639 13.0317 13.5633 12.969 13.5635 12.9961L13.5633 12.9984L13.5624 13.0076L13.5607 13.0261C13.5585 13.0506 13.5563 13.075 13.5541 13.0995C13.552 13.1238 13.5498 13.148 13.5477 13.1721C13.5449 13.1962 13.542 13.2201 13.5392 13.2438C13.5331 13.2912 13.5293 13.3382 13.5218 13.3839C13.5151 13.4297 13.5086 13.4747 13.5023 13.5188C13.4946 13.5625 13.4872 13.6054 13.48 13.647C13.4734 13.6887 13.4646 13.7289 13.4568 13.7677C13.4487 13.8065 13.4422 13.8442 13.4337 13.88C13.4255 13.9157 13.4176 13.9499 13.41 13.9825C13.4063 13.9986 13.4027 14.0142 13.3992 14.0295C13.3956 14.0425 13.3921 14.0552 13.3887 14.0675C13.3867 14.075 13.3848 14.0821 13.3828 14.0893H16.898C16.9451 14.0893 16.9843 14.0524 16.9861 14.0053C16.9862 14.005 16.9862 14.0047 16.9862 14.0045C16.9891 13.939 16.9921 13.8718 16.9952 13.8031C16.9965 13.7344 16.9978 13.6643 16.9992 13.5929C17.0012 13.5217 16.999 13.4493 16.9988 13.376C16.9984 13.3394 16.998 13.3026 16.9976 13.2656Z" fill="white" fill-opacity="0.7"/><path d="M16.0834 9.57605C16.1306 9.55707 16.1521 9.50245 16.1303 9.45652C16.1207 9.4361 16.1094 9.41223 16.0966 9.38522C16.0845 9.35985 16.0711 9.33175 16.0566 9.30117C16.0379 9.26293 16.0176 9.22159 15.9959 9.17741C15.974 9.13341 15.9508 9.08658 15.9262 9.03723C15.9138 9.01156 15.9016 8.99039 15.8888 8.96631C15.876 8.94276 15.863 8.91867 15.8496 8.89407C15.8229 8.84496 15.7955 8.79362 15.7661 8.74105C15.7357 8.68905 15.7043 8.63526 15.672 8.57996C15.6559 8.55239 15.6394 8.52442 15.6228 8.49614C15.6055 8.4683 15.5879 8.44011 15.5701 8.41163C15.5344 8.35488 15.4978 8.29689 15.4607 8.23794C15.3824 8.12252 15.3044 8.0018 15.2174 7.88432C15.1961 7.85474 15.1746 7.82506 15.153 7.79528L15.1206 7.75065L15.0869 7.70675C15.0418 7.64836 14.9966 7.58978 14.9513 7.53117C14.9052 7.47325 14.8575 7.41654 14.8108 7.35962C14.7872 7.33134 14.7643 7.30266 14.7402 7.27503C14.716 7.24749 14.6919 7.22002 14.6679 7.19266C14.6439 7.1654 14.62 7.1382 14.5961 7.11117C14.5725 7.08402 14.5486 7.05734 14.524 7.03153C14.4752 6.97962 14.4271 6.92835 14.3797 6.87791C14.3323 6.82762 14.2832 6.78036 14.2365 6.73312C14.1894 6.68613 14.1437 6.63998 14.097 6.59712C14.0508 6.55389 14.0058 6.51184 13.9624 6.47114C13.9191 6.43036 13.8749 6.39332 13.8338 6.35663C13.7923 6.32034 13.7525 6.28558 13.7147 6.25251C13.6759 6.22053 13.6391 6.19021 13.6045 6.16173C13.5699 6.13334 13.5375 6.10679 13.5076 6.08224C13.4776 6.05778 13.4489 6.03657 13.4236 6.0168C13.3868 5.98854 13.3557 5.96467 13.331 5.9457C13.2933 5.91678 13.2396 5.92296 13.2093 5.95959L11.6667 7.82683C11.6377 7.86204 11.6401 7.91351 11.6726 7.94565C11.6855 7.95839 11.7004 7.97313 11.7171 7.98972C11.7332 8.00585 11.7516 8.02292 11.7704 8.04285C11.7893 8.06277 11.8097 8.08433 11.8314 8.10734C11.8533 8.13025 11.8764 8.15462 11.9009 8.18032C11.9244 8.20684 11.9492 8.23477 11.9751 8.26389C12.0006 8.29327 12.0285 8.32244 12.0551 8.35497C12.0819 8.38718 12.1096 8.42047 12.138 8.4547C12.1671 8.48831 12.1947 8.52479 12.2234 8.56166C12.2518 8.59877 12.2821 8.63536 12.3106 8.67461C12.3391 8.71372 12.368 8.75349 12.3974 8.79375C12.4123 8.81356 12.4265 8.83423 12.4405 8.8552C12.4546 8.87603 12.4688 8.89693 12.4831 8.91794C12.4974 8.93884 12.5118 8.95985 12.5261 8.98093C12.5405 9.00201 12.5536 9.02405 12.5675 9.04562C12.5947 9.08914 12.623 9.13201 12.6497 9.17584C12.6758 9.22009 12.7019 9.26436 12.7279 9.30844L12.7474 9.34133L12.7657 9.37492C12.7779 9.39721 12.7901 9.41947 12.8022 9.44161C12.8522 9.5291 12.8944 9.6193 12.9386 9.70405C12.9588 9.7475 12.9787 9.7902 12.9982 9.83204C13.0079 9.85287 13.0175 9.87348 13.027 9.89383C13.0359 9.91455 13.0446 9.935 13.0531 9.95521C13.0704 9.9954 13.0872 10.0346 13.1035 10.0724C13.1185 10.1107 13.133 10.1478 13.1469 10.1833C13.1539 10.201 13.1607 10.2184 13.1673 10.2354C13.1736 10.252 13.1814 10.2699 13.1856 10.2837C13.1956 10.3127 13.2049 10.3402 13.2138 10.366C13.2228 10.3917 13.2313 10.4157 13.2391 10.4379C13.2493 10.4685 13.2587 10.4966 13.2672 10.5219C13.2767 10.5503 13.285 10.5753 13.2922 10.5968C13.3083 10.645 13.3616 10.6696 13.4088 10.6506L16.0834 9.57605Z" fill="white" fill-opacity="0.7"/><path d="M8.22742 6.24077C8.25079 6.24395 8.27663 6.24748 8.3048 6.25132C8.33278 6.25619 8.36306 6.26147 8.3954 6.26711C8.42768 6.27265 8.46204 6.27854 8.49824 6.28477C8.5297 6.28999 8.56228 6.29758 8.59616 6.30467L9.56969 4.31331C9.52143 4.30578 9.47356 4.2983 9.42666 4.29098C9.39452 4.2862 9.36288 4.28071 9.33137 4.27677C9.29986 4.27296 9.26872 4.26918 9.238 4.26546C9.17664 4.25818 9.11696 4.25107 9.05925 4.24422C9.00138 4.23926 8.94546 4.23447 8.89179 4.22987C8.83811 4.22575 8.78691 4.22033 8.7379 4.218C8.68898 4.21561 8.64256 4.21331 8.59895 4.21117C8.55537 4.20911 8.51461 4.20719 8.47694 4.20541C8.43924 4.2048 8.4046 4.20424 8.3733 4.20374C8.32928 4.2032 8.29191 4.20276 8.26196 4.2024C8.21445 4.20183 8.17513 4.23896 8.17286 4.28641L8.08409 6.13989C8.0819 6.18556 8.11485 6.22532 8.16014 6.23153C8.17943 6.23418 8.20192 6.23728 8.22742 6.24077Z" fill="white" fill-opacity="0.7"/><path d="M10.8449 7.26136C10.8711 7.28038 10.8959 7.29842 10.9192 7.3154C10.9425 7.33212 10.9644 7.34776 10.9846 7.36223C10.9933 7.36825 11.0078 7.3792 11.0196 7.38797C11.0317 7.39704 11.0433 7.40568 11.0543 7.41388C11.0782 7.43175 11.0994 7.44754 11.1175 7.46105C11.1582 7.49143 11.216 7.48116 11.2439 7.43868L12.515 5.50256C12.5429 5.46007 12.5293 5.40294 12.4852 5.37765C12.4656 5.36641 12.4427 5.35328 12.4168 5.33841C12.4049 5.33157 12.3924 5.3244 12.3792 5.31685C12.3649 5.30874 12.3499 5.30026 12.3343 5.29142C12.2981 5.27148 12.259 5.24996 12.2172 5.22692C12.1754 5.20414 12.1309 5.17992 12.084 5.15434C12.0394 5.13196 11.9924 5.10843 11.9434 5.08386C11.8942 5.05984 11.844 5.03313 11.7901 5.00888C11.7365 4.98433 11.6811 4.95894 11.6242 4.93283C11.5676 4.90613 11.5079 4.88188 11.4473 4.85643C11.3865 4.83153 11.3253 4.80429 11.2613 4.78026C11.2451 4.77412 11.2287 4.76791 11.2124 4.76172L10.6641 7.14166C10.6944 7.1607 10.7229 7.18089 10.7511 7.19911C10.7838 7.22081 10.8151 7.24159 10.8449 7.26136Z" fill="white" fill-opacity="0.7"/><path d="M6.52075 6.23127C6.5453 6.22803 6.5694 6.22402 6.59347 6.22148C6.61754 6.21905 6.64132 6.21663 6.66476 6.21423C6.71156 6.20939 6.75706 6.20466 6.8011 6.20008C6.84527 6.19713 6.88795 6.19426 6.92891 6.19151C6.94934 6.19011 6.96935 6.18875 6.98891 6.18741C7.00841 6.1861 7.02795 6.18444 7.0447 6.18442C7.07922 6.18351 7.11199 6.18267 7.14275 6.18186C7.17342 6.1809 7.20209 6.17998 7.22864 6.17914C7.26137 6.17893 7.29144 6.17873 7.31856 6.17855C7.34845 6.17839 7.37486 6.17825 7.39744 6.17812C7.44826 6.17785 7.48821 6.13482 7.48488 6.0841L7.37046 4.33812C7.36711 4.28741 7.32191 4.24995 7.2715 4.25632C7.24908 4.25915 7.2229 4.26246 7.19325 4.2662C7.16576 4.26969 7.13532 4.27357 7.10218 4.2778C7.06303 4.28361 7.02069 4.28987 6.97543 4.29659C6.93032 4.30346 6.88229 4.31078 6.83167 4.31849C6.80575 4.32214 6.7819 4.32699 6.75687 4.33171C6.7319 4.33647 6.70637 4.34136 6.6803 4.34633C6.62824 4.35639 6.57404 4.36688 6.51788 4.37772C6.46218 4.39041 6.40456 4.40354 6.34534 4.41702C6.3158 4.4238 6.28584 4.43069 6.25553 4.43767C6.22525 4.44475 6.19488 4.45341 6.16409 4.46138C6.10262 4.47775 6.03986 4.49448 5.97601 4.51148C5.91281 4.53054 5.84855 4.5499 5.78352 4.56951C5.75109 4.57955 5.71833 4.58902 5.68576 4.59974C5.65334 4.61082 5.62068 4.62193 5.58793 4.63311C5.55524 4.64431 5.52242 4.65555 5.48951 4.66684C5.45658 4.67805 5.4236 4.6893 5.39107 4.70213C5.32585 4.72702 5.26037 4.75202 5.19489 4.77702C5.1297 4.80254 5.06558 4.83081 5.00132 4.85757C4.96929 4.87122 4.93717 4.88439 4.90552 4.8984C4.87408 4.91291 4.84274 4.92737 4.81152 4.9418C4.78036 4.95622 4.74931 4.97061 4.71845 4.9849C4.68758 4.99918 4.65683 5.01325 4.62695 5.02876C4.56697 5.05904 4.50772 5.08896 4.44945 5.11838C4.39117 5.1476 4.33562 5.17985 4.28045 5.20954C4.22554 5.23978 4.17153 5.26863 4.12058 5.29971C4.06935 5.33009 4.01951 5.35967 3.97131 5.38827C3.92295 5.41647 3.87811 5.44693 3.83416 5.47445C3.79052 5.50242 3.7487 5.52924 3.70892 5.55474C3.67 5.58146 3.63306 5.6068 3.59836 5.63062C3.56375 5.65445 3.53136 5.67675 3.50141 5.69738C3.47149 5.71801 3.44502 5.73847 3.42063 5.75615C3.38758 5.78056 3.35936 5.80139 3.33653 5.81824C3.29839 5.84639 3.28945 5.89956 3.31611 5.93876L4.04111 7.00468C4.06692 7.04262 4.11736 7.05452 4.15732 7.03195C4.17574 7.02157 4.1975 7.00928 4.22232 6.99528C4.24395 6.98331 4.26736 6.96918 4.29379 6.95542C4.3202 6.94164 4.34876 6.92678 4.37927 6.91089C4.40969 6.89498 4.44208 6.87806 4.4762 6.86022C4.51092 6.84357 4.54741 6.82607 4.58549 6.80782C4.62375 6.79 4.66256 6.76958 4.70442 6.75177C4.74595 6.73354 4.7889 6.7147 4.83306 6.69532C4.87678 6.67518 4.92309 6.65759 4.96994 6.6388C5.01704 6.62055 5.06421 6.5999 5.11361 6.58245C5.16281 6.56472 5.21284 6.5467 5.26346 6.52845C5.28857 6.51891 5.31441 6.51084 5.3403 6.50257C5.36614 6.49425 5.39213 6.48589 5.4182 6.4775C5.44422 6.46909 5.47035 6.46064 5.49654 6.45216C5.52288 6.44416 5.5496 6.43701 5.57614 6.42935C5.62945 6.4146 5.6824 6.39825 5.73608 6.38454C5.7898 6.37124 5.84352 6.35795 5.89703 6.34472C5.92358 6.33765 5.95053 6.33212 5.97736 6.3266C6.00413 6.32096 6.03083 6.31534 6.05743 6.30974C6.08395 6.3041 6.11038 6.2985 6.13669 6.29292C6.16305 6.28766 6.18955 6.28359 6.2157 6.27889C6.26798 6.26982 6.31963 6.26083 6.37045 6.25203C6.42145 6.245 6.47161 6.23805 6.52075 6.23127Z" fill="white" fill-opacity="0.7"/><path d="M1.57764 7.6092C1.55864 7.63607 1.53956 7.66308 1.52039 7.69019C1.50128 7.71728 1.4821 7.74448 1.46285 7.77177C1.44368 7.7991 1.42575 7.82744 1.4071 7.85532C1.37035 7.91146 1.33273 7.96716 1.29673 8.02393C1.26157 8.08117 1.2264 8.13842 1.19138 8.19545L1.16526 8.23814L1.14045 8.28154C1.12397 8.31039 1.10755 8.33918 1.09117 8.36783C1.02425 8.48151 0.966107 8.59772 0.907019 8.7081C0.879514 8.76438 0.852458 8.81972 0.825973 8.87391C0.812839 8.90097 0.799829 8.92777 0.786999 8.95422C0.77492 8.98103 0.763002 9.00753 0.751227 9.03369C0.727785 9.08591 0.704987 9.13673 0.682923 9.18587C0.662344 9.23563 0.642446 9.2837 0.623352 9.32983C0.604634 9.37611 0.585719 9.4199 0.569596 9.4624C0.553688 9.50493 0.538585 9.5453 0.524376 9.58322C0.51024 9.62111 0.497015 9.65656 0.484793 9.68934C0.473502 9.72244 0.463141 9.75285 0.453764 9.78032C0.441596 9.81643 0.431145 9.84742 0.422609 9.8728C0.407488 9.91764 0.430483 9.9663 0.474683 9.98324L1.14949 10.2419C1.19244 10.2584 1.24081 10.2392 1.26065 10.1977C1.2705 10.1771 1.28225 10.1525 1.29576 10.1243C1.30696 10.101 1.31935 10.0752 1.33286 10.0471C1.34721 10.0195 1.36272 9.98958 1.37931 9.9576C1.39585 9.92573 1.41342 9.89175 1.43196 9.85596C1.45064 9.82027 1.47215 9.78368 1.4935 9.74503C1.51512 9.70659 1.53765 9.66652 1.56096 9.62504C1.58553 9.58437 1.61092 9.54228 1.63705 9.49901C1.65006 9.47741 1.66325 9.45553 1.6766 9.43337C1.69064 9.41163 1.70487 9.38966 1.71924 9.36738C1.74798 9.323 1.77734 9.27769 1.80721 9.23155C1.87067 9.14172 1.93272 9.04711 2.00285 8.95587C2.01998 8.9328 2.03718 8.90966 2.05443 8.88645L2.08028 8.85161L2.10738 8.81754C2.14345 8.77211 2.17967 8.72653 2.21589 8.68095C2.25277 8.63593 2.29105 8.59207 2.32825 8.54783C2.34711 8.52587 2.36522 8.50347 2.38453 8.48212C2.40386 8.46081 2.42311 8.43955 2.44229 8.41838C2.46144 8.39723 2.4805 8.37617 2.49947 8.35519C2.51826 8.33411 2.53722 8.31341 2.55693 8.29356C2.59569 8.25343 2.63398 8.21377 2.67165 8.17474C2.70925 8.13579 2.74849 8.09964 2.78553 8.0631C2.82286 8.02683 2.85897 7.99104 2.89616 7.95823C2.93273 7.92495 2.96831 7.89258 3.00274 7.86124C3.03688 7.82973 3.07206 7.8016 3.10456 7.77336C3.13727 7.7455 3.16862 7.7188 3.19843 7.69341C3.22771 7.67024 3.25548 7.64826 3.28157 7.62758C3.30752 7.60692 3.3318 7.58758 3.35426 7.56969C3.36457 7.56117 3.37853 7.55097 3.39032 7.542C3.40241 7.53286 3.41396 7.52416 3.42491 7.51591C3.44876 7.49789 3.46982 7.482 3.48786 7.4684C3.52843 7.43778 3.53471 7.37941 3.50171 7.34076L2.7334 6.44067C2.70041 6.40202 2.64177 6.39906 2.60517 6.43432C2.5889 6.44999 2.56988 6.4683 2.54837 6.48904C2.53849 6.49854 2.52808 6.50858 2.51716 6.51908C2.50605 6.52987 2.49548 6.5397 2.4817 6.55378C2.45536 6.58035 2.42689 6.60911 2.39645 6.63982C2.36617 6.67054 2.33394 6.70324 2.29996 6.7377C2.26837 6.77192 2.23516 6.80789 2.20052 6.84541C2.1663 6.88322 2.1294 6.92132 2.0937 6.96309C2.05786 7.00464 2.02082 7.04761 1.98272 7.09175C1.94416 7.13538 1.90685 7.18225 1.86846 7.22979C1.83037 7.27759 1.79021 7.32528 1.7519 7.37581C1.71369 7.42635 1.67486 7.47772 1.63556 7.52976C1.61559 7.55555 1.5965 7.58218 1.57764 7.6092Z" fill="white" fill-opacity="0.7"/><path d="M0.181721 10.7652C0.177229 10.7873 0.171968 10.8132 0.166009 10.8425C0.160551 10.8693 0.154503 10.8991 0.147918 10.9315C0.141458 10.9647 0.135141 11.0038 0.12809 11.0437C0.121147 11.0841 0.113774 11.127 0.106008 11.1722C0.10225 11.1948 0.0979556 11.2181 0.0943945 11.2416C0.0912272 11.2649 0.0880061 11.2888 0.0846956 11.3131C0.0720977 11.4107 0.0555094 11.5157 0.0459536 11.6279C0.0404062 11.6838 0.0347157 11.7412 0.0288999 11.7998C0.0241042 11.8586 0.020901 11.9187 0.0167673 11.9797C0.00710419 12.1016 0.00533262 12.228 0.00130631 12.3559L0 12.404L0.000232631 12.4522C0.000411578 12.4845 0.000590525 12.5167 0.000769472 12.5491C0.000966314 12.5814 0.00116316 12.6138 0.0013421 12.6462L0.00164631 12.6949L0.00350736 12.7435C0.00613788 12.8082 0.0087684 12.873 0.0113989 12.9375L0.0133852 12.9857L0.0139937 13.0013L0.0148526 13.013L0.0165705 13.0362C0.018861 13.0672 0.0211336 13.0981 0.0234063 13.1289C0.0256789 13.1597 0.0279515 13.1904 0.0301884 13.2209C0.0332841 13.2527 0.0363441 13.2844 0.039422 13.3159C0.0425178 13.3473 0.0455957 13.3786 0.0486557 13.4096C0.0501946 13.4251 0.0517336 13.4406 0.0532725 13.456C0.0551872 13.4711 0.057102 13.4862 0.0589988 13.5012C0.066622 13.5612 0.0741198 13.6201 0.0814567 13.6779C0.0903145 13.7353 0.0989756 13.7916 0.107386 13.8463C0.11526 13.901 0.125406 13.9539 0.134729 14.0051C0.135499 14.0092 0.136268 14.0132 0.13702 14.0173C0.144804 14.0591 0.181202 14.0894 0.223737 14.0894H0.461576C0.512361 14.0894 0.55266 14.0466 0.549671 13.996C0.548866 13.9824 0.548043 13.9688 0.54713 13.955C0.54416 13.9057 0.540581 13.8548 0.539436 13.8023C0.537718 13.7499 0.535964 13.6961 0.534157 13.6411C0.533817 13.5861 0.533477 13.5299 0.533137 13.4728C0.533047 13.4585 0.532958 13.4442 0.532868 13.4298C0.533173 13.4157 0.533495 13.4015 0.533817 13.3872C0.534443 13.3587 0.535069 13.33 0.535714 13.3011C0.53634 13.2722 0.536984 13.2432 0.537628 13.214C0.53906 13.1835 0.540474 13.1527 0.541923 13.1219C0.543355 13.0911 0.544804 13.0601 0.546236 13.0291L0.547327 13.0058L0.547864 12.9941L0.547936 12.9926C0.547936 12.9889 0.548007 12.996 0.548043 12.9948L0.548258 12.992L0.548705 12.9864L0.55232 12.9412C0.557116 12.881 0.561929 12.8206 0.566761 12.7602L0.570447 12.715L0.575655 12.6699C0.579126 12.6398 0.58258 12.6098 0.586033 12.5799C0.589469 12.55 0.592905 12.5201 0.596323 12.4904L0.601423 12.4459L0.608026 12.4017C0.626136 12.2841 0.641525 12.1684 0.664072 12.0577C0.674648 12.0022 0.684114 11.9476 0.694976 11.8945C0.706805 11.8416 0.718365 11.7898 0.729621 11.7394C0.75045 11.6385 0.777453 11.5447 0.799428 11.4577C0.805065 11.436 0.810576 11.4147 0.815962 11.3939C0.821653 11.3735 0.827791 11.3541 0.833446 11.3349C0.844845 11.2968 0.855671 11.2606 0.865835 11.2265C0.876232 11.1922 0.884768 11.1615 0.894717 11.1307C0.90515 11.0993 0.914705 11.0705 0.923366 11.0444C0.932779 11.0161 0.9411 10.991 0.948222 10.9695C0.964238 10.9213 0.936269 10.8697 0.887165 10.8566L0.290932 10.6976C0.241811 10.6845 0.191849 10.7154 0.181721 10.7652Z" fill="white" fill-opacity="0.7"/><path d="M6.93005 13.8554C7.12403 13.9503 7.32952 13.9952 7.53182 13.9952C8.03964 13.9952 8.52767 13.7123 8.76572 13.2253C8.81157 13.1316 8.84705 13.0281 8.87014 12.9307L10.2584 6.90521L10.787 4.61052L11.1146 3.18903C11.1527 3.02359 11.0211 2.91089 10.8891 2.91089C10.8118 2.91089 10.7343 2.94952 10.6907 3.0388L10.0242 4.40207L9.04096 6.41318L6.29992 12.0198C5.96703 12.7007 6.24916 13.5226 6.93005 13.8554ZM7.58271 11.915C7.95419 11.915 8.25534 12.2162 8.25534 12.5877C8.25534 12.9591 7.95419 13.2603 7.58271 13.2603C7.21123 13.2603 6.91008 12.9591 6.91008 12.5877C6.91008 12.2161 7.21123 11.915 7.58271 11.915Z" fill="white"/></svg>`;
const herbalSpaSvg = `<svg width="16" height="16" viewBox="0 0 16 16" fill="none" xmlns="http://www.w3.org/2000/svg"><g clip-path="url(#clip0_594_6498)"><path d="M1.04772 3.50062C1.62973 4.85431 2.61228 6.19325 3.98721 6.77038C4.14415 6.83577 4.32236 6.88482 4.50546 6.92569C4.87167 6.37964 5.29183 5.93658 5.78393 5.57365C6.20734 5.26303 6.65041 5.01943 7.10652 4.82814C6.97573 4.73658 6.83842 4.65321 6.69453 4.578C6.12233 4.27882 5.50273 4.01561 4.89945 3.73277C5.46675 3.88645 6.11742 3.94367 6.6602 4.14149C6.99862 4.26576 7.31088 4.43742 7.60188 4.64178C8.47001 4.34585 9.37737 4.20362 10.2831 4.09573C9.54903 2.87612 7.98281 1.89683 6.80243 1.45378C5.56974 0.991099 4.17357 0.933879 2.80191 0.791662C1.96159 0.704997 1.0477 0.391119 0.379038 0.0249083C0.226996 -0.05847 0.0651437 0.0804938 0.11746 0.248885C0.446084 1.30009 0.612841 2.49027 1.04772 3.50062Z" fill="white" fill-opacity="0.7"/><path d="M15.5404 3.34029C13.9938 4.18061 12.22 4.28361 10.4821 4.48306C9.63364 4.58116 8.7933 4.70212 7.99384 4.9441C7.82054 4.9964 7.64727 5.05527 7.47722 5.12066C6.97205 5.31358 6.48486 5.56698 6.02547 5.9054C5.59386 6.22255 5.24073 6.59858 4.94319 7.0122C4.46908 7.67267 4.13884 8.43289 3.86745 9.22254C3.37208 10.6563 3.14484 12.18 3.18898 13.6955C3.20696 14.3103 3.21677 14.9495 3.36882 15.5495C3.40315 15.6819 3.43584 15.8503 3.53884 15.9484C3.6729 16.0775 3.91322 15.9451 3.85927 15.7571C3.47018 14.4312 3.71214 12.8814 4.25001 11.6144C4.86798 10.1577 6.06143 9.29119 7.51973 8.76315C7.90719 8.62255 8.30285 8.49993 8.70501 8.38386C8.71318 8.3806 8.72135 8.3806 8.72953 8.3806C8.80964 8.3806 8.84397 8.4983 8.76059 8.53592C8.28648 8.75008 7.81564 8.96589 7.36767 9.19967C5.17369 10.3441 4.21566 13.0089 5.03799 13.0089C5.10504 13.0089 5.1835 12.9909 5.27341 12.9533C6.54207 12.4285 8.04941 12.4236 9.44395 12.1653C9.9344 12.0754 10.4118 11.9528 10.8598 11.7664C12.6385 11.0242 13.9104 9.57244 14.6673 7.8264C15.2314 6.52341 15.4504 4.985 15.8771 3.63132C15.9327 3.45802 15.8101 3.30926 15.6597 3.30926C15.6221 3.3076 15.5813 3.31742 15.5404 3.34029Z" fill="white"/></g><defs><clipPath id="clip0_594_6498"><rect width="16" height="16" fill="white"/></clipPath></defs></svg>`;
const closeSvg = `<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><foreignObject x="0" y="0" width="0" height="0"><div xmlns="http://www.w3.org/1999/xhtml" style="backdrop-filter:blur(4px);clip-path:url(#bgblur_0_1_1182_clip_path);height:100%;width:100%"></div></foreignObject><circle data-figma-bg-blur-radius="8" cx="12" cy="12" r="12" fill="black" fill-opacity="0.4"/><path d="M8.20117 16.2783C8.44531 16.5225 8.85547 16.5127 9.08984 16.2832L12 13.373L14.9053 16.2832C15.1445 16.5225 15.5547 16.5225 15.7939 16.2783C16.0332 16.0342 16.0381 15.6289 15.7988 15.3896L12.8936 12.4795L15.7988 9.57422C16.0381 9.33496 16.0381 8.92969 15.7939 8.68555C15.5498 8.44629 15.1445 8.44141 14.9053 8.68066L12 11.5908L9.08984 8.68066C8.85547 8.45117 8.44043 8.44141 8.20117 8.68555C7.96191 8.92969 7.9668 9.33984 8.19629 9.56934L11.1064 12.4795L8.19629 15.3945C7.9668 15.624 7.95703 16.0391 8.20117 16.2783Z" fill="white"/> <defs> <clipPath id="bgblur_0_1_1182_clip_path" transform="translate(0 0)"><circle cx="12" cy="12" r="12"/> </clipPath></defs> </svg>`;
const logoSvg = `<svg width="131" height="28" viewBox="0 0 131 28" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.41 22V0.699999H8.21C12.83 0.699999 15.95 3.55 15.95 8.08C15.95 12.52 12.83 15.4 8.21 15.4H5.15V22H0.41ZM5.15 11.05H7.76C9.68 11.05 11.15 10.36 11.15 8.08C11.15 5.8 9.68 5.05 7.76 5.05H5.15V11.05ZM18.1639 22V0.699999H22.8139V22H18.1639ZM32.3246 22.3C28.7846 22.3 24.8846 19.63 24.8846 14.2C24.8846 8.77 28.7846 6.1 32.3246 6.1C35.0846 6.1 36.7046 7.6 36.9446 8.17H37.0346V6.4H41.6846V22H37.0346V20.23H36.9446C36.7046 20.8 35.0846 22.3 32.3246 22.3ZM29.4746 14.2C29.4746 16.72 31.3046 18.16 33.2846 18.16C35.3246 18.16 37.1546 16.75 37.1546 14.2C37.1546 11.65 35.3246 10.24 33.2846 10.24C31.3046 10.24 29.4746 11.68 29.4746 14.2ZM44.5018 22V6.4H49.1518V8.38C50.0218 7.06 51.5518 6.1 53.7718 6.1C56.9218 6.1 59.5918 8.05 59.5918 12.82V22H54.9418V13.63C54.9418 11.68 53.9518 10.24 52.0318 10.24C50.1418 10.24 49.1518 11.68 49.1518 13.63V22H44.5018ZM68.5027 22.18C65.6227 22.18 63.5227 20.77 63.5227 17.2V10.09H61.2127V6.4H63.5227V2.41H68.1727V6.4H71.4427V10.09H68.1727V16.45C68.1727 17.23 68.6227 18.07 70.0327 18.07C70.3927 18.07 70.9327 18.01 71.5027 17.83V21.37C70.9027 21.97 69.5827 22.18 68.5027 22.18ZM80.5822 0.699999H85.6222L93.7522 22H88.6222L87.4222 18.61H78.7822L77.5822 22H72.4522L80.5822 0.699999ZM80.3722 14.23H85.8322L83.1022 6.55L80.3722 14.23ZM95.3612 27.7V6.4H100.011V8.17H100.101C100.341 7.6 101.961 6.1 104.721 6.1C108.261 6.1 112.161 8.77 112.161 14.2C112.161 19.63 108.261 22.3 104.721 22.3C101.961 22.3 100.341 20.8 100.101 20.23H100.011V27.7H95.3612ZM99.8912 14.2C99.8912 16.75 101.721 18.16 103.761 18.16C105.741 18.16 107.571 16.72 107.571 14.2C107.571 11.68 105.741 10.24 103.761 10.24C101.721 10.24 99.8912 11.65 99.8912 14.2ZM113.935 27.7V6.4H118.585V8.17H118.675C118.915 7.6 120.535 6.1 123.295 6.1C126.835 6.1 130.735 8.77 130.735 14.2C130.735 19.63 126.835 22.3 123.295 22.3C120.535 22.3 118.915 20.8 118.675 20.23H118.585V27.7H113.935ZM118.465 14.2C118.465 16.75 120.295 18.16 122.335 18.16C124.315 18.16 126.145 16.72 126.145 14.2C126.145 11.68 124.315 10.24 122.335 10.24C120.295 10.24 118.465 11.65 118.465 14.2Z" fill="white"/></svg>`;

//
type ScreenName = typeof ScreenNames.Onboarding.OnboardingCarousel;
type NavType = NativeStackNavigationProp<RootStackParamList, ScreenName>;

export const PaywallScreen = ({ route }: { route: any }) => {
  Logger.get('PaywallScreen').info({ route });

  //
  const insets = useSafeAreaInsets();
  const navigation = useNavigation<NavType>();
  const url = route?.params?.url ?? 'https://novaapp.ai/';

  //
  const [selectedPack, setSelectedPack] = React.useState<'1month' | '1year'>('1year');

  return (
    <View style={{ flex: 1, backgroundColor: '#101E17' }}>
      <StatusBar barStyle={'light-content'} />
      <ScrollView style={{ flex: 1, paddingTop: 120, paddingHorizontal: 24 }}>
        <View style={{ height: 185, backgroundColor: colors.green400 }} />

        <View style={{ flex: 1, flexDirection: 'row', gap: 6, alignItems: 'center' }}>
          <SvgXml xml={logoSvg} width={133} height={47} />
          <Text style={[styles.title, { marginTop: 1 }]}>Premium</Text>
        </View>
        <Text style={[styles.subtitle]}>Access All Features</Text>

        <ScrollView
          horizontal
          showsHorizontalScrollIndicator={false}
          style={{ marginTop: 24, overflow: 'visible' }}
          contentContainerStyle={{ gap: 12 }}
        >
          <FeatureCard
            title="Unlimited"
            description="Plant Identify"
            iconElement={<SvgXml xml={scannerSvg} width={18} height={18} />}
          />
          <FeatureCard
            title="Faster"
            description="Process"
            iconElement={<SvgXml xml={speedometerSvg} width={17} height={17} />}
          />
          <FeatureCard
            title="Detailed"
            description="Plant care"
            iconElement={<SvgXml xml={herbalSpaSvg} width={16} height={16} />}
          />
        </ScrollView>

        {/* Packs */}
        <View style={{ width: '100%', gap: 16, marginTop: 24 }}>
          <Pack
            isSelected={selectedPack === '1month'}
            title="1 Month"
            subTitle="$2.99/month, auto renewable"
            onSelect={() => {
              setSelectedPack('1month');
            }}
          />
          <Pack
            isSelected={selectedPack === '1year'}
            title="1 Year"
            subTitle="First 3 days free, then $529,99/year"
            promoText="Save 50%"
            onSelect={() => {
              setSelectedPack('1year');
            }}
          />
        </View>
      </ScrollView>

      <View
        style={{
          height: 8 + 52 + 8 + 24 + 10 + 13 + insets.bottom,
          position: 'absolute',
          bottom: 0,
          left: 0,
          right: 0,
          paddingHorizontal: 24,
          backgroundColor: '#101E17',
        }}
      >
        <PrimaryButton title="Try free for 3 days" style={{ height: 52 }} onPress={() => {}}>
          <Text
            style={{
              fontFamily: fonts.Rubik500Medium,
              fontSize: 16,
              color: colors.white,
              lineHeight: 24,
              letterSpacing: -0.24,
            }}
          >
            Try free for 3 days
          </Text>
        </PrimaryButton>
        <Text style={[styles.infoText, { marginTop: 8, marginBottom: 10, marginHorizontal: 4 }]}>
          After the 3-day free trial period you’ll be charged ₺274.99 per year unless you cancel
          before the trial expires. Yearly Subscription is Auto-Renewable
        </Text>

        <View style={{ flexDirection: 'row', justifyContent: 'center' }}>
          <TouchableOpacity
            onPress={() => {
              navigation.push(ScreenNames.Other.WebView, {
                url: 'https://novaapp.ai/terms',
              });
            }}
          >
            <Text style={styles.infoButtonText}>Terms</Text>
          </TouchableOpacity>

          <View style={styles.separator}>
            <View style={styles.separatorDot} />
          </View>

          <TouchableOpacity
            onPress={() => {
              navigation.push(ScreenNames.Other.WebView, {
                url: 'https://novaapp.ai/privacy',
              });
            }}
          >
            <Text style={styles.infoButtonText}>Privacy</Text>
          </TouchableOpacity>

          <View style={styles.separator}>
            <View style={styles.separatorDot} />
          </View>

          <TouchableOpacity>
            <Text style={styles.infoButtonText}>Restore</Text>
          </TouchableOpacity>
        </View>
      </View>

      <Pressable
        style={{ position: 'absolute', top: 64, right: 24 }}
        onPress={() => {
          Logger.get('PaywallScreen').info('Closing Paywall');
          navigation.goBack();
        }}
        hitSlop={12}
      >
        <SvgXml xml={closeSvg} width={24} height={24} />
      </Pressable>
    </View>
  );
};

const styles = StyleSheet.create({
  container: {
    flex: 1,
    backgroundColor: '#101E17',
  },
  title: {
    fontFamily: fonts.Rubik300Light,
    fontSize: 27,
    color: colors.white,
  },
  subtitle: {
    fontFamily: fonts.Rubik300Light,
    fontSize: 17,
    color: colors.white,
    opacity: 0.7,
    lineHeight: 24,
    letterSpacing: 0.38,
  },
  infoText: {
    fontFamily: fonts.Rubik300Light,
    fontSize: 9,
    color: colors.white,
    opacity: 0.52,
    lineHeight: 11.88,
    textAlign: 'center',
  },
  separator: {
    width: 24,
    height: 10,
    justifyContent: 'center',
    alignItems: 'center',
  },
  separatorDot: {
    backgroundColor: colors.white,
    opacity: 0.5,
    width: 3,
    height: 3,
    borderRadius: 1.5,
    marginTop: 3,
  },
  infoButtonText: {
    fontFamily: fonts.Rubik400Regular,
    fontSize: 11,
    color: colors.white,
    opacity: 0.5,
  },
});
